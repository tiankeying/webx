<template>
  <div>
    <!-- ç¬¬ä¸€ä¸ªç›’å­ -->
    <div style="background: linear-gradient(180deg, rgba(242,224,172,0.5), rgba(255,255,255,0.5));">
      <GradientRectangle />
    </div>
    <div class="homeConet">
      <!-- ç¬¬äºŒä¸ªç›’å­ -->
      <div class="homeConet2_text"><span>{{ $t('homePage.welcome') }}</span> {{ $t('homePage.ToWebx') }}</div>
      <div class="homeConet2">

        <div class="grid-container">
          <div class="grid-item1">
            <p>{{ $t('homePage.smartEngine') }}</p>
          </div>
          <div class="grid-item2">
            <p>{{ $t('homePage.web3AlAccelerator') }}</p>
          </div>
          <div class="grid-item3">
            <p>{{ $t('homePage.digitalInfrastructurePioneer') }}</p>
          </div>
          <div class="grid-item4">
            <p style="margin: 0;line-height: 1.5; white-space: pre-wrap;">{{ $t('homePage.spanningEcommerce') }}</p>
          </div>
          <div class="grid-item5">
            <p>{{ $t('homePage.capitalIndustrySynergyHub') }}</p>
          </div>
          <div class="grid-item6">
            <p>{{ $t('homePage.trillionDollarMarketConnector') }}</p>
          </div>
        </div>

      </div>
      <!-- ç¬¬ä¸‰ä¸ªç›’å­ -->
      <div class="homeConet02">
        <div class="homeConet02_text"> {{ $t('homePage.globalPresence') }} <span> {{ $t('homePage.global') }}</span> {{
          $t('homePage.presence') }}</div>
        <div class="homeConet03" ref="mapSectionRef">
          <div class="homeConetImg">
            <img src="../../assets/index/åœ°å›¾.png" alt="World Map" class="homeConetImg-dot">
          </div>
          <div class="homeConet03_img-1">
          </div>
          <div class="map-markers-overlay">
            <div class="map-marker" id="marker-europe">
              <img src="../../assets/index/æ¬§æ´².png" alt="Europe"><span>{{ $t('homePage.europe') }}</span>
            </div>
            <div class="map-marker" id="marker-us">
              <img src="../../assets/index/ç¾å›½.png" alt="US"><span>{{ $t('homePage.us') }}</span>
            </div>
            <div class="map-marker" id="marker-dubai">
              <img src="../../assets/index/è¿ªæ‹œ.png" alt="Dubai"><span>{{ $t('homePage.dubai') }}</span>
            </div>
            <div class="map-marker" id="marker-malaysia">
              <img src="../../assets/index/é©¬æ¥è¥¿äºš.png" alt="Malaysia"><span>{{ $t('homePage.malaysia') }}</span>
            </div>
            <div class="map-marker" id="marker-hk">
              <img src="../../assets/index/é¦™æ¸¯.png" alt="Hong Kong"><span>{{ $t('homePage.hongKongChina') }}</span>
            </div>
            <div class="map-marker" id="marker-mainland-china">
              <img src="../../assets/index/ä¸­å›½.png" alt="Mainland China"><span>{{ $t('homePage.mainlandChina') }}</span>
            </div>
          </div>
        </div>
        <!-- <div class="homeConet03_img-1"></div>  -->
        <!-- This is the rotating logo, check its position if it overlaps -->
      </div>
      <!-- Old homeConet03_box is now integrated into map-markers-overlay -->

      <!-- ç¬¬å››ä¸ªç›’å­ -->
      <div class="homeConet02">
        <div class="homeConet03_text"> {{ $t('homePage.webx') }}<span> {{ $t('homePage.Ecosystem') }}</span> </div>
        <div class="homeConet04_box">
          <!-- WebX Business æ¨¡å— -->
          <div class="business-card1">
            <BusinessCard :mainImage="businessMainImage" :floatingIcons="businessIcons" :showButton="false"
            buttonText="WebX Business" :size="{ width: '512px', height: '600px' }" />
          </div>

          <!-- WebX Game æ¨¡å— -->
          <div class="game-card1">
            <BusinessCardR :mainImage="gameMainImage" :floatingIcons="gameIcons" :showButton="false"
            buttonText="WebX Game" :size="{ width: '472px', height: '634px' }" />
          </div>
        </div>
        <div class="btn-box">
          <div class="btn-1" @click="openWebxBusiness">
            <div class="text" style="text-align: justify;">{{ $t('ecosystemPage.webxBusiness') }}</div>
            <div class="jiantou1"></div>
          </div>
          <div class="btn-2" @click="openWebxGame">
            <div class="text" style="text-align: justify;">{{ $t('ecosystemPage.webxGame') }}</div>
            <div class="jiantou2"></div>
          </div>
        </div>
      </div>
      <div class="business-card-btn">
         <div class="homeConet02_text" > {{ $t('homePage.title') }}</div>
        <section class="section hub-showcase">
      <video ref="videoPlayer" class="rounded-video" loop :muted="isMuted" playsinline @ended="isPlaying = false" :key="locale">
        <source :src="videoSource" type="video/mp4">
        {{ $t('contactsPage.videoNotSupported') }}
      </video>

      <div class="video-overlay" :class="{ 'playing': isPlaying }" @click="togglePlayPause">
        <img :src="isPlaying ? playIcon : pauseIcon" alt="Play/Pause Button" class="play-pause-btn"
          :class="{ 'clicked': isAnimating }" />
        <!-- å¯ä»¥æ·»åŠ ä¸€ä¸ªé™éŸ³æŒ‰é’® -->
        <button @click.stop="toggleMute" class="mute-btn">
          {{ isMuted ? 'ğŸ”‡' : 'ğŸ”Š' }}
        </button>
      </div>
      <!-- è§†é¢‘è¿›åº¦æ¡ -->
      <div class="video-progress-container" @click="seekVideo">
        <div class="video-progress-bar">
          <div class="video-progress-fill" :style="{ width: progressPercentage + '%' }"></div>
          <div class="video-progress-thumb" :style="{ left: progressPercentage + '%' }"></div>
        </div>
        <div class="video-time-display">
          <span class="current-time">{{ formatTime(currentTime) }}</span>
          <span class="duration">{{ formatTime(duration) }}</span>
        </div>
      </div>
    </section>
      </div>
    </div>
  </div>

</template>
<script setup>
import BusinessCard from '@/views/Common/BusinessCard.vue'
import BusinessCardR from '@/views/Common/BusinessCardR.vue'
import GradientRectangle from '../Common/GradientRectangle.vue'
import { ref, onMounted, onUnmounted, computed, watch, nextTick } from 'vue';


// å¯¼å…¥å›¾ç‰‡
import businessMainImage from '@/assets/index/æ’å›¾ï¼šWebX Business.png'
import gameMainImage from '@/assets/index/æ’å›¾ï¼šWebX Game.png'
import carIcon from '@/assets/index/æ±½è½¦.png'
import dressIcon from '@/assets/index/è£™å­.png'
import cartIcon from '@/assets/index/è´­ç‰©è½¦.png'
import rocketIcon from '@/assets/index/ç«ç®­.png'
import gameVideoIcon from '@/assets/index/æ¸¸æˆå½±ç‰‡.png'
import gameConsoleIcon from '@/assets/index/æ¸¸æˆæœº.png'

import ENvideo from '../../assets/m-index/ï¼ˆå‹ç¼©æ‰‹æœºç‰ˆï¼‰WebX-ä¼å®£è§†é¢‘è‹±æ–‡ç‰ˆEnglish.mp4';
import ZHVideo from '../../assets/m-index/ï¼ˆå‹ç¼©æ‰‹æœºç‰ˆï¼‰WebX-ä¼å®£è§†é¢‘ ä¸­è‹±æ–‡åŒè¯­å­—å¹•ç‰ˆ.mp4';
import playIcon from '../../assets/index/æ’­æ”¾.png';
import pauseIcon from '../../assets/index/æš‚åœ.png';
import more from '../../assets/index/æ›´å¤š.png';
import moreBlack from '../../assets/index/æ›´å¤šé»‘.png';
import { useI18n } from 'vue-i18n'

const { t } = useI18n()
const videoPlayer = ref(null);
const isPlaying = ref(false);
const isAnimating = ref(false);
const { locale } = useI18n()
const isMuted = ref(true);

// è¿›åº¦æ¡ç›¸å…³å˜é‡
const currentTime = ref(0);
const duration = ref(0);
const progressPercentage = computed(() => {
  return duration.value > 0 ? (currentTime.value / duration.value) * 100 : 0;
});

// æ ¹æ®è¯­è¨€åŠ¨æ€åˆ‡æ¢è§†é¢‘æº
const videoSource = computed(() => {
  if (locale.value === 'en') {
    return ENvideo; // è‹±æ–‡è§†é¢‘
  } else {
    return ZHVideo; // ä¸­æ–‡è§†é¢‘ï¼Œè¯·æ›¿æ¢ä¸ºå®é™…çš„ä¸­æ–‡è§†é¢‘æ–‡ä»¶å
  }
});

const togglePlayPause = () => {
  if (videoPlayer.value) {
    if (isPlaying.value) {
      videoPlayer.value.pause();
    } else {
      videoPlayer.value.play();
    }
    // è§¦å‘åŠ¨ç”»
    isAnimating.value = true;
    setTimeout(() => {
      isAnimating.value = false;
    }, 1000); // åŠ¨ç”»æŒç»­1ç§’
  }
};


// åˆ‡æ¢é™éŸ³çŠ¶æ€çš„å‡½æ•°
const toggleMute = () => {
  if (videoPlayer.value) {
    videoPlayer.value.muted = !videoPlayer.value.muted;
    isMuted.value = videoPlayer.value.muted;
  }
};

// æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
const formatTime = (time) => {
  const minutes = Math.floor(time / 60);
  const seconds = Math.floor(time % 60);
  return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
};

// ç‚¹å‡»è¿›åº¦æ¡è·³è½¬è§†é¢‘
const seekVideo = (event) => {
  if (videoPlayer.value && duration.value > 0) {
    const rect = event.currentTarget.getBoundingClientRect();
    const clickX = event.clientX - rect.left;
    const percentage = clickX / rect.width;
    const newTime = percentage * duration.value;
    videoPlayer.value.currentTime = newTime;
  }
};

// æ›´æ–°è§†é¢‘æ—¶é—´
const updateVideoTime = () => {
  if (videoPlayer.value) {
    currentTime.value = videoPlayer.value.currentTime;
    duration.value = videoPlayer.value.duration || 0;
  }
};

const openWebxGame = () => {
  window.open('https://g.webx.ai', '_blank') // æ–°æ ‡ç­¾é¡µæ‰“å¼€
  // æˆ–è€…ï¼š
  // window.location.href = 'https://b.webx.ai' // å½“å‰é¡µæ‰“å¼€
}

const openWebxBusiness = () => {
  window.open('https://b.webx.ai', '_blank') // æ–°æ ‡ç­¾é¡µæ‰“å¼€
  // æˆ–è€…ï¼š
  // window.location.href = 'https://b.webx.ai' // å½“å‰é¡µæ‰“å¼€
}

// Business Card æ•°æ®
const businessIcons = ref([
  { src: carIcon, className: 'car', alt: 'æ±½è½¦å›¾æ ‡' },
  { src: dressIcon, className: 'dress', alt: 'è£™å­å›¾æ ‡' },
  { src: cartIcon, className: 'cart', alt: 'è´­ç‰©è½¦å›¾æ ‡' }
]);

const mapSectionRef = ref(null);
const markersAnimated = ref(false);
let mapObserver = null;

// ç»‘å®šè§†é¢‘äº‹ä»¶ç›‘å¬å™¨çš„å‡½æ•°
const bindVideoEvents = () => {
  if (videoPlayer.value) {
    videoPlayer.value.addEventListener('play', () => {
      isPlaying.value = true;
    });
    videoPlayer.value.addEventListener('pause', () => {
      isPlaying.value = false;
    });
    videoPlayer.value.addEventListener('timeupdate', updateVideoTime);
    videoPlayer.value.addEventListener('loadedmetadata', updateVideoTime);
    videoPlayer.value.addEventListener('durationchange', updateVideoTime);
    // åˆå§‹çŠ¶æ€æ£€æŸ¥ï¼Œå¦‚æœè§†é¢‘è‡ªåŠ¨æ’­æ”¾ï¼Œåˆ™è®¾ç½®isPlayingä¸ºtrue
    if (videoPlayer.value.autoplay) {
      isPlaying.value = true;
    }
  }
};

// ç›‘å¬è¯­è¨€å˜åŒ–ï¼Œé‡æ–°ç»‘å®šè§†é¢‘äº‹ä»¶
watch(locale, async () => {
  await nextTick(); // ç­‰å¾…DOMæ›´æ–°
  bindVideoEvents();
});

onMounted(() => {
  const options = {
    root: null,
    threshold: 0.1,
  };

  mapObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible'); // Add is-visible to the map container itself
        if (!markersAnimated.value) {
          const markers = entry.target.querySelectorAll('.map-marker');
          markers.forEach(marker => marker.classList.add('is-floating'));
          const globalIcon = entry.target.querySelector('.global-connection-icon');
          if (globalIcon) globalIcon.classList.add('is-floating'); // Also animate global icon
          markersAnimated.value = true;
        }
      } else {
        // Optional: remove animation when out of view to re-trigger or save resources
        // if (markersAnimated.value) {
        //   const markers = mapSectionRef.value.querySelectorAll('.map-marker');
        //   markers.forEach(marker => marker.classList.remove('is-floating'));
        //   markersAnimated.value = false;
        // }
      }
    });
  }, options);

  if (mapSectionRef.value) {
    mapObserver.observe(mapSectionRef.value);
  }

  // åˆå§‹ç»‘å®šè§†é¢‘äº‹ä»¶
  bindVideoEvents();
});

onUnmounted(() => {
  if (mapObserver && mapSectionRef.value) {
    mapObserver.unobserve(mapSectionRef.value);
  }
  if (mapObserver) {
    mapObserver.disconnect();
  }
});

const gameIcons = ref([
  { src: rocketIcon, className: 'car2', alt: 'ç«ç®­å›¾æ ‡' },
  { src: gameVideoIcon, className: 'dress2', alt: 'æ¸¸æˆå½±ç‰‡å›¾æ ‡' },
  { src: gameConsoleIcon, className: 'cart2', alt: 'æ¸¸æˆæœºå›¾æ ‡' }
]);

// æ‰‹åŠ¨å®šä¹‰39ä¸ªç‚¹çš„ä½ç½®ã€é¢œè‰²å’Œå¤§å°
const dots = ref([
  // ç¤ºä¾‹æ•°æ®ï¼Œä½ éœ€è¦æ›¿æ¢ä¸ºå®é™…çš„39ä¸ªç‚¹åæ ‡
  { x: 90, y: 270, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 125, y: 300, color: '#3126AE', size: 8, scale: 1 },
  { x: 235, y: 302, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 220, y: 345, color: '#FF3366', size: 8, scale: 1 },
  { x: 190, y: 400, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 270, y: 380, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 310, y: 245, color: '#3126AE', size: 8, scale: 1 },
  { x: 290, y: 180, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 355, y: 543, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 410, y: 578, color: '#3126AE', size: 8, scale: 1 },
  { x: 365, y: 608, color: '#FF3366', size: 8, scale: 1 },
  { x: 453, y: 630, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 495, y: 215, color: '#FF3366', size: 8, scale: 1 },
  { x: 453, y: 235, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 605, y: 435, color: '#FF3366', size: 8, scale: 1 },
  { x: 640, y: 390, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 675, y: 300, color: '#FF3366', size: 8, scale: 1 },
  { x: 710, y: 290, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 695, y: 465, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 660, y: 520, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 715, y: 620, color: '#3126AE', size: 8, scale: 1 },
  { x: 785, y: 465, color: '#FF8B1A', size: 8, scale: 1 },
  { x: 785, y: 355, color: '#FF8B1A', size: 8, scale: 1 },


]);

// æ‚¬æµ®æ—¶æ”¾å¤§
const hoverDot = (index) => {
  dots.value[index].scale = 1.5;
};

// ç¦»å¼€æ—¶æ¢å¤
const resetDot = (index) => {
  dots.value[index].scale = 1;
};
</script>

<style scoped lang="scss">
.homeConet01 {
  width: 100%;
  text-align: center;
  margin: 0 0 210px;
  background-image: url('../../assets/index/æ¸å˜çŸ©å½¢.png');
  background-repeat: no-repeat;
  /* é€šå¸¸éœ€è¦è¿™ä¸ª */
  min-height: 1920px;
  /* ç¡®ä¿å…ƒç´ æœ‰é«˜åº¦ */
  text-align: center;
  padding: 105.6px 312px 0;
}

.homeConet01_img {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.gradient-text {
  color: #191919;
}

.homeConet {
  // padding: 0 312px;
  // // border: .0521vw solid #F2BE45;
  // margin-top: 2.6042vw;
  width: 100%;
}

.grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  /* åˆ›å»º3åˆ— */
  gap: 2.0006px;
  /* è®¾ç½®é¡¹ç›®ä¹‹é—´çš„é—´éš™ */
  list-style: none;
  /* å»æ‰é»˜è®¤çš„åˆ—è¡¨æ ·å¼ */
  padding: 0;
}

.grid-item1 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/01.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  display: flex;
  // align-items: flex-end;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  justify-content: center;
  padding-top: 289.0003px;
}

.grid-item2 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/02.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  text-align: center;
  display: flex;
  // align-items: flex-end;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  justify-content: center;
  padding-top: 289.0003px;
}

.grid-item3 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/03.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  text-align: center;
  display: flex;
  // align-items: flex-end;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  justify-content: center;
  padding-top: 289.0003px;
}


.grid-item4 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/04.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  text-align: center;
  display: flex;
  // align-items: flex-end;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  justify-content: center;
  padding-top: 289.0003px;

}

.grid-item5 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/05.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  text-align: center;
  display: flex;
  // align-items: flex-end;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  justify-content: center;
  padding-top: 289.0003px;
}

.grid-item6 {
  width: 447.9994px;
  height: 391.0003px;
  background-image: url(../../assets/index/06.png);
  background-size: 100% 100%;
  /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
  background-repeat: no-repeat;
  text-align: center;
  display: flex;
  // align-items: flex-end;
  justify-content: center;
  /* å°†å†…å®¹å¯¹é½åˆ°åº•éƒ¨ */
  padding-top: 289.0003px;
}

.grid-container p {
  font-size: 20.0006px;
  /* è®¾ç½®æ–‡å­—å¤§å° */
  font-family: Source Han Sans SC;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.7);
  line-height: 39.9994px;
}

.grid-item1,
.grid-item2,
.grid-item3,
.grid-item4,
.grid-item5,
.grid-item6 {
  // ... existing code ...
  cursor: pointer;
  transition: transform 0.3s ease;

  &:active {
    transform: rotate(-15deg);
  }
}


.homeConet2 {
  display: flex;
  justify-content: center;
  
}

.homeConet2_text {
  font-family: Alibaba PuHuiTi;
  font-weight: bold;
  font-size: 50px;
  text-align: center;
  margin-top: 210px;
  margin-bottom: 124px;

  span {
    color: #F2BE45;
  }
}

.homeConet02_text {
  font-family: Alibaba PuHuiTi;
  font-weight: bold;
  font-size: 50.0006px;
  text-align: center;
  margin-top: 192px;
  margin-bottom: 134.0006px;

  span {
    color: #F2BE45;
  }
}

.homeConet03_text {
  font-family: Alibaba PuHuiTi;
  font-weight: bold;
  font-size: 50.0006px;
  text-align: center;
  margin-top: 192px;
  margin-bottom: 40.9997px;

  span {
    color: #F2BE45;
  }
}

.homeConet02 {

  .homeConet02_img img {
    width: 100%;
    /* å›¾ç‰‡å®½åº¦å¡«æ»¡çˆ¶å®¹å™¨ */
    height: 100%;
    /* å›¾ç‰‡é«˜åº¦å¡«æ»¡çˆ¶å®¹å™¨ */
    object-fit: cover;
    /* è‡ªé€‚åº”å¡«å……ï¼ˆå¯é€‰ï¼šcontain/coverï¼‰ */
  }

  .homeConet03 {
    position: relative; // Changed to relative for absolute positioning of children
    width: 100%; // Ensure it spans to center map content if needed
    // display: flex; // Removed as children are absolutely positioned or block
    // justify-content: center;
    // align-items: center;
  }

  .homeConet03_img-1 {
    max-width: 100px;
    min-width: 100px;
    max-height: 96px;
    min-height: 96px;
    background-image: url('../../assets/index/logo (1).png');
    background-size: 100% 100%;
    /* èƒŒæ™¯å›¾å¤§å°è°ƒæ•´ä¸ºä¸divä¸€æ ·å¤§ */
    background-repeat: no-repeat;
    margin: 0;
    /* æ°´å¹³å±…ä¸­ */
    // margin-left: 275px;
    // transform: translateX(1314px);
    animation: rotate360 5s linear infinite;
    /* æ·»åŠ æ—‹è½¬åŠ¨ç”» */
    // margin-bottom: 74.0006px;
    position: absolute;
    top: 751px;
    left: 309px;
  }


  .homeConetImg {
    background-image: url('../../assets/index/çŸ©å½¢ 1.png'); // This should be the dark blue background from your image
    background-size: cover; // Or 100% 100% if it's a specific shape
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    width: 1920px; // Or a specific width like 1200px with margin auto
    max-width: 1920px; // Example max width
    height: 944px; // Adjust as needed, or use aspect-ratio
    // display: flex; // To center the map image if it's smaller than container
    // justify-content: center;
    // align-items: center;
    overflow: hidden; // Prevent markers from appearing outside if map is smaller
    max-height: 944px;
    
    .homeConetImg-dot {
      // This is the actual world map image with continents/lines
      display: block;
      min-width: 1563px; // Make map responsive within its container
        min-height: 707px;
      max-width: 1563px; // Make map responsive within its container
      max-height: 707px;
      // height: auto; // Maintain aspect ratio
      object-fit: contain; // Ensure whole map is visible, or 'cover'
      // border: 1px solid red;
      margin-top: 140px;
        margin-left: 200px;
    }
  }

  /* å®šä¹‰360åº¦æ—‹è½¬åŠ¨ç”» */
  @keyframes rotate360 {
    from {
      transform: rotate(0deg);
      /* åˆå§‹è§’åº¦ */
    }

    to {
      transform: rotate(360deg);
      /* æ—‹è½¬360åº¦ */
    }
  }



  // .homeConet03_img {
  // width: 1314px;
  // height: 655.0003px;

  //   text-align: center;
  //   // padding: 6.9792vw 0 3.8542vw;
  // }

  .dot {
    position: absolute;
    border-radius: 50%;
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0.8;
    cursor: pointer;
  }

  .dot:hover {
    opacity: 1;
  }

}

/* Styles for .homeConet03_box and its .item are replaced by .map-markers-overlay and .map-marker */

.map-markers-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  /* Container doesn't block map interactions */
}

@keyframes floatUpDownAnimation {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
    /* Adjust float height */
  }
}

.map-marker {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  pointer-events: auto;
  /* Markers can be interacted with if needed */
  opacity: 0;
  /* Initially hidden for scroll animation */
  transform: translateY(20px);
  /* Start slightly lower for entry animation */
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;

  img {
    width: 85px;
    /* Adjust size as per your image */
    height: 87px;
    // margin-bottom: 47px;
  }

  span {
    font-family: Source Han Sans SC;
      font-weight: bold;
      font-size: 28px;
      color: #F2BE45;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
    /* Optional: text shadow for readability */
  }
}

.map-marker.is-floating {
  opacity: 1;
  transform: translateY(0);
  animation: floatUpDownAnimation 3s ease-in-out infinite 0.5s;
  /* 0.5s delay after appearing */
}

/* Adjusted positions based on the provided image. These are estimates and might need fine-tuning. */
/* These are relative to the .map-markers-overlay container (which covers .homeConetImg) */
#marker-europe {
  top: 169px;
  left: 904px;
  display: flex;
  flex-direction: row;
  align-items: center;
  border: 1px solid transparent;
  span{
    margin-left: 16px;
  }
}

#marker-us {
  width: 330px;
  min-width: 208px;
  max-width: 330px;
  top: 224px;
  left: 556px;
  display: flex;
  flex-direction: row;
  align-items: center;
  border: 1px solid transparent;
  span {
    margin-left: 22px;
  }
}

#marker-dubai {
  top: 310px;
  left: 1072px;
  border: 1px solid transparent;
  span{
    margin-top: 50px;
  }
}

#marker-malaysia {
  top: 474px;
  left: 1438px;
  display: flex;
  flex-direction: row;
  align-items: center;
  border: 1px solid transparent;
  span{
    margin-left: 22px;
  }
}

#marker-hk {
  width: 190px;
  min-width: 178px;
  max-width: 190px;
  top: 350px;
  left:1227px;
  border: 1px solid transparent;
  span {
    margin-top: 41px;
  }
}

/* Hong Kong, China */
#marker-mainland-china {
  // width: 300px;
  min-width: 199px;
  max-width: 230px;
  top: 315px;
  left: 1345px;
  display: flex;
  flex-direction: row;
  align-items: center;
  border: 1px solid transparent;
  
}

/* Mainland China */

.global-connection-icon {
  position: absolute;
  bottom: 10%; // Adjust as needed
  left: 5%; // Adjust as needed
  width: 60px; // Adjust size
  height: 60px; // Adjust size
  opacity: 0; // For scroll animation
  transform: scale(0.5) translateY(20px);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

.homeConet03.is-visible .global-connection-icon,
.global-connection-icon.is-floating {
  opacity: 1;
  transform: scale(1) translateY(0);
}

.global-connection-icon.is-floating {
  animation: floatUpDownAnimation 3.5s ease-in-out infinite alternate 0.5s;
  /* 0.5s delay after appearing */
}


.item img {

  object-fit: contain;
  flex-shrink: 0;
  align-self: flex-start;
  /* å›¾ç‰‡é¡¶éƒ¨å¯¹é½ */
}

.item span {
  flex: 1;
  text-align: left;

  white-space: nowrap;
  /* ç¦æ­¢æ¢è¡Œ */
  line-height: 1.3;
  padding-top: 9.9994px;
  /* å¾®è°ƒæ–‡å­—å‚ç›´ä½ç½® */
}

.homeConet04_box {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1326px;
  max-height: 650px;
  min-width: 1326px;
    min-height: 650px;
  margin: 0 280px;
  gap: 40px;
  border: 1px solid transparent;
}

.business-card1{
  width: 512px;
  height: 594px;
  border: 1px solid transparent;
}

.game-card1{
  width: 472px;
  height: 634px;
  margin-right: 33px;
  border: 1px solid transparent;
}

.homeConet04_box>div {
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 48%;
}

.btn-1 {
  background-image: url(../../assets/index/çŸ©å½¢1.png);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  width: 388px;
  height: 139px;
  display: flex;
  align-items: center;
  // justify-content: space-between;
  padding: 0 60px;
  cursor: pointer;
border: 1px solid transparent;
  .text {
    font-family: Source Han Sans SC;
    font-weight: 500;
    font-size: 30px;
    color: #000000;
    text-align: center;
    margin-top: -15px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    /* æ°´å¹³å±…ä¸­æ–‡å­—ï¼ˆå¤šè¡Œæ—¶ï¼‰ */
    width: 100%;
    height: 100%;
  }

  .jiantou1 {
    background-image: url(../../assets/index/ç®­å¤´.png);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    width: 39px;
    height: 38px;
    margin-top: -8px;
    border: 1px solid transparent;
  }
}

.btn-2 {
  background-image: url(../../assets/index/çŸ©å½¢2.png);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  width: 389px;
  height: 139px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 60px;
  cursor: pointer;
border: 1px solid transparent;
  .text {
    font-family: Source Han Sans SC;
    font-weight: 500;
    font-size: 30px;
    color: #000000;
    text-align: center;
    margin-top: -15px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    /* æ°´å¹³å±…ä¸­æ–‡å­—ï¼ˆå¤šè¡Œæ—¶ï¼‰ */
    width: 100%;
    height: 100%;
  }

  .jiantou2 {
    background-image: url(../../assets/index/ç®­å¤´.png);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    width: 39px;
    height: 38px;
    margin-top: -8px;
  }
}

.jiantou1,
.jiantou2 {
  margin-left: 12px;
  /* è®©ç®­å¤´å’Œæ–‡å­—æœ‰é—´è· */
  display: flex;
  align-items: center;
}

.btn-1:hover,
.btn-2:hover {
  animation: bounce 0.6s ease-out;
}

/* å“åº”å¼è®¾è®¡ */
// @media (max-width: 768px) {
//   .homeConet04_box {
//     flex-direction: column;
//     align-items: center;
//     gap: 60px;
//   }

//   .homeConet04_box>div {
//     width: 100%;
//     min-height: 600px;
//   }
// }

/* æŒ‰é’®å®¹å™¨ */
.btn,
.btn2 {
  width: 100%;
  max-width: 388px;
  min-width: 388px;
  height: 139px;
  display: flex;
  justify-content: center;
  padding: 40px 0;
}

/* ç»Ÿä¸€æŒ‰é’®æ ·å¼ */
.custom-btn {
  padding: 35px 25px;
  font-size: 30px;
  display: inline-flex;
  align-items: center;
  background-color: #FFFFFF;
  border: .0521vw #F2BE45 solid;
}

.custom-icon {
  width: 39px;
  height: 39px;
  margin-left: 15px;
}

.main-image-wrapper {
  position: relative;
  display: inline-block;
  /* ä½¿å®¹å™¨é€‚åº”å›¾ç‰‡å¤§å° */
}

.main-image {
  width: 100%;
  display: block;
}

/* æµ®åŠ¨åŠ¨ç”» */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-15px);
  }
}

/* æ–°å¢ï¼šä¸Šä¸‹ç§»åŠ¨åŠ¨ç”» */
@keyframes floatUpDown {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}


/* ç¬é—´æ”¾å¤§è¿˜åŸåŠ¨ç”» */
@keyframes bounce {
  0% {
    transform: scale(1);
  }

  30% {
    transform: scale(1.1);
  }

  100% {
    transform: scale(1);
  }
}

.btn-box {
  display: flex;
  justify-content: space-between;
  max-width: 1180px; // ä¸ .homeConet04_box ä¿æŒä¸€è‡´
  min-width: 1164px;
  margin: 0 auto;
  
}
.business-card-btn{
margin-bottom: 239px;
}

/* Ensure the main map container (.homeConet02) has a clear background if map image is transparent */
.homeConet02 {
  // If the map image itself (åœ°å›¾.png) doesn't have the blue background from your screenshot,
  // you might need to set it on .homeConetImg or .homeConet03
  // For example, if çŸ©å½¢ 1.png is just a blue rectangle, and åœ°å›¾.png is transparent with just continents/lines:
  // .homeConetImg { background-color: #0A2540; } // Example dark blue
}

/* è§†é¢‘æ’­æ”¾å™¨æ ·å¼ */
.section.hub-showcase {
  position: relative;
  width: 100%;
  max-width: 1300px;
  margin: 100px auto;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.rounded-video {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 20px;
  background: #000;
}

.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: background 0.3s ease;
  border-radius: 20px;
}

.video-overlay:hover {
  background: rgba(0, 0, 0, 0.2);
}

.play-pause-btn {
  width: 80px;
  height: 80px;
  opacity: 0.8;
  transition: all 0.3s ease;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  padding: 2px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.play-pause-btn:hover {
  opacity: 1;
  transform: scale(1.1);
  background: rgba(255, 255, 255, 0.9);
}

/* æ’­æ”¾æ—¶éšè—èƒŒæ™¯ */
.video-overlay.playing .play-pause-btn {
  background: transparent;
  box-shadow: none;
}

/* æ‚¬åœæ—¶æ˜¾ç¤ºèƒŒæ™¯ */
.video-overlay.playing:hover .play-pause-btn {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.play-pause-btn.clicked {
  animation: clickPulse 0.3s ease;
}

@keyframes clickPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.mute-btn {
  position: absolute;
  bottom: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.6);
  border: none;
  color: white;
  font-size: 20px;
  padding: 10px 15px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.mute-btn:hover {
  background: rgba(0, 0, 0, 0.8);
  transform: scale(1.1);
}

.mute-btn:active {
  transform: scale(0.95);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .section.hub-showcase {
    margin: 50px 20px;
    border-radius: 15px;
  }
  
  .rounded-video {
    border-radius: 15px;
  }
  
  .video-overlay {
    border-radius: 15px;
  }
  
  .play-pause-btn {
    width: 60px;
    height: 60px;
  }
  
  .mute-btn {
    bottom: 15px;
    right: 15px;
    font-size: 16px;
    padding: 8px 12px;
  }
}

@media (max-width: 480px) {
  .section.hub-showcase {
    margin: 30px 15px;
    border-radius: 10px;
  }
  
  .rounded-video {
    border-radius: 10px;
  }
  
  .video-overlay {
    border-radius: 10px;
  }
  
  .play-pause-btn {
    width: 50px;
    height: 50px;
  }
  
  .mute-btn {
    bottom: 10px;
    right: 10px;
    font-size: 14px;
    padding: 6px 10px;
  }
}

/* è§†é¢‘è¿›åº¦æ¡æ ·å¼ */
.video-progress-container {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  padding: 10px 15px;
  border-radius: 0 0 20px 20px;
}

.video-progress-bar {
  position: relative;
  width: 100%;
  height: 6px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 3px;
  cursor: pointer;
  margin-bottom: 8px;
}

.video-progress-fill {
  height: 100%;
  background-color: #ffffff;
  border-radius: 3px;
  transition: width 0.1s ease;
}

.video-progress-thumb {
  position: absolute;
  top: 50%;
  width: 14px;
  height: 14px;
  background: #fff;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  transition: left 0.1s ease;
}

.video-time-display {
  display: flex;
  justify-content: space-between;
  color: #fff;
  font-size: 12px;
  font-weight: 500;
}

.current-time, .duration {
  font-family: 'Arial', sans-serif;
}

/* å“åº”å¼è¿›åº¦æ¡ */
@media (max-width: 768px) {
  .video-progress-container {
    padding: 8px 12px;
  }
  
  .video-progress-bar {
    height: 4px;
    margin-bottom: 6px;
  }
  
  .video-progress-thumb {
    width: 12px;
    height: 12px;
  }
  
  .video-time-display {
    font-size: 11px;
  }
}

@media (max-width: 480px) {
  .video-progress-container {
    padding: 6px 10px;
  }
  
  .video-progress-bar {
    height: 3px;
    margin-bottom: 5px;
  }
  
  .video-progress-thumb {
    width: 10px;
    height: 10px;
  }
  
  .video-time-display {
    font-size: 10px;
  }
}
</style>